{
  "rulesets": [
    {
      "name": "main-protection",
      "target": "branch",
      "enforcement": "active",
      "conditions": {
        "ref_name": {
          "include": ["refs/heads/main"],
          "exclude": []
        }
      },
      "rules": [
        {
          "type": "pull_request",
          "parameters": {
            "required_approving_review_count": 2,
            "dismiss_stale_reviews_on_push": true,
            "require_code_owner_review": true,
            "require_last_push_approval": true,
            "required_review_thread_resolution": true
          }
        },
        {
          "type": "required_status_checks",
          "parameters": {
            "required_status_checks": [
              {
                "context": "CI / lint",
                "integration_id": null
              },
              {
                "context": "CI / test",
                "integration_id": null
              },
              {
                "context": "CI / build",
                "integration_id": null
              },
              {
                "context": "Bundle Size Analysis / analyze-bundle",
                "integration_id": null
              },
              {
                "context": "E2E Tests / detox-android",
                "integration_id": null
              }
            ],
            "strict_required_status_checks_policy": true
          }
        },
        {
          "type": "deletion",
          "parameters": {}
        },
        {
          "type": "non_fast_forward",
          "parameters": {}
        },
        {
          "type": "required_linear_history",
          "parameters": {}
        },
        {
          "type": "required_signatures",
          "parameters": {}
        }
      ],
      "bypass_actors": []
    },
    {
      "name": "staging-protection",
      "target": "branch",
      "enforcement": "active",
      "conditions": {
        "ref_name": {
          "include": ["refs/heads/staging"],
          "exclude": []
        }
      },
      "rules": [
        {
          "type": "pull_request",
          "parameters": {
            "required_approving_review_count": 1,
            "dismiss_stale_reviews_on_push": true,
            "require_code_owner_review": false,
            "require_last_push_approval": false,
            "required_review_thread_resolution": true
          }
        },
        {
          "type": "required_status_checks",
          "parameters": {
            "required_status_checks": [
              {
                "context": "CI / lint",
                "integration_id": null
              },
              {
                "context": "CI / test",
                "integration_id": null
              },
              {
                "context": "E2E Tests / detox-android",
                "integration_id": null
              }
            ],
            "strict_required_status_checks_policy": false
          }
        },
        {
          "type": "deletion",
          "parameters": {}
        },
        {
          "type": "non_fast_forward",
          "parameters": {}
        }
      ],
      "bypass_actors": []
    },
    {
      "name": "develop-protection",
      "target": "branch",
      "enforcement": "active",
      "conditions": {
        "ref_name": {
          "include": ["refs/heads/develop"],
          "exclude": []
        }
      },
      "rules": [
        {
          "type": "pull_request",
          "parameters": {
            "required_approving_review_count": 1,
            "dismiss_stale_reviews_on_push": true,
            "require_code_owner_review": false,
            "require_last_push_approval": false,
            "required_review_thread_resolution": false
          }
        },
        {
          "type": "required_status_checks",
          "parameters": {
            "required_status_checks": [
              {
                "context": "CI / lint",
                "integration_id": null
              },
              {
                "context": "CI / test",
                "integration_id": null
              }
            ],
            "strict_required_status_checks_policy": false
          }
        },
        {
          "type": "deletion",
          "parameters": {}
        }
      ],
      "bypass_actors": []
    },
    {
      "name": "hotfix-protection",
      "target": "branch",
      "enforcement": "active",
      "conditions": {
        "ref_name": {
          "include": ["refs/heads/hotfix/*"],
          "exclude": []
        }
      },
      "rules": [
        {
          "type": "pull_request",
          "parameters": {
            "required_approving_review_count": 1,
            "dismiss_stale_reviews_on_push": false,
            "require_code_owner_review": true,
            "require_last_push_approval": false,
            "required_review_thread_resolution": true
          }
        },
        {
          "type": "required_status_checks",
          "parameters": {
            "required_status_checks": [
              {
                "context": "CI / lint",
                "integration_id": null
              },
              {
                "context": "CI / test",
                "integration_id": null
              }
            ],
            "strict_required_status_checks_policy": false
          }
        }
      ],
      "bypass_actors": []
    },
    {
      "name": "release-tags-protection",
      "target": "tag",
      "enforcement": "active",
      "conditions": {
        "ref_name": {
          "include": ["refs/tags/v*"],
          "exclude": []
        }
      },
      "rules": [
        {
          "type": "creation",
          "parameters": {}
        },
        {
          "type": "deletion",
          "parameters": {}
        },
        {
          "type": "update",
          "parameters": {}
        }
      ],
      "bypass_actors": [
        {
          "actor_id": 1,
          "actor_type": "RepositoryRole",
          "bypass_mode": "always"
        }
      ]
    }
  ]
}
